# Significant Changes: V1 → V2

## Formal charge rule

- V1: Checked only if final atoms were neutral; ++ if both neutral, + if one neutral, − otherwise.
- V2: Prioritizes neutralization, heavily penalizes charge pileup (e.g., +1 → +2), distinguishes unfavorable intramolecular separation from plausible intermolecular charge creation.

## Atomic radius rule

- V1: Incorrectly favored larger proton acceptor (not donor).
- V2: Correctly favors larger proton donor.

## Resonance rule

- V1: A few SMARTS patterns to detect resonance.
- V2: Algorithmic check for adjacency to a π-system; excludes cases where the anion is directly part of the π system.

## Inductive rule

- V1: Sum of EN/distance² using a fixed list of withdrawing atoms; ignored local environment and formal charges.
- V2: Uses relative EN differences between neighbors, distance attenuation, and boosted contributions from positively charged centers.

## EN and radius discretization

- V1: Coarse thresholds.
- V2: Five-level scoring system for finer granularity.
